<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>aria_info_mzda_intddr_sk_meb2_tm4301b.X</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00028.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00043.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00041.html" target="topic">Aria Applications</a> &gt; <a href="00005.html" target="topic">aria_infotainment</a> &gt; <a href="00028.html" target="topic">aria_info_mzda_intddr_sk_meb2_tm4301b.X</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00005.html" target="topic">Previous</a> | <a href="00005.html" target="topic">Up</a> | <a href="00006.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_info_mzda_intddr_sk_meb2_tm4301b.X Topic Title: aria_info_mzda_intddr_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
aria_info_mzda_intddr_sk_meb2_tm4301b.X</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element15">
Defining the Architecture</div>
<p class="Element10" style="text-align: center;">
<img src="mada_intddr_sk_arch.png" border="0" alt="" title=""></p><p class="Element10">
For this configuration, the application uses the graphics library to render graphics to the display. The graphics library passes draw commands into the Nano2D GPU Library, which in-turn draws the widgets and images to the three individual write frame buffers (one for each layer) that are stored in an external DDR2. Via the DDR2 Memory Controller, the Graphics LCD (GLCD) display controller peripheral continuously transfers frame data from the all three read buffers onto to the LCD display. The write and read frame buffer pairs are swapped independently as required when the graphics library is done rendering to the write frame buffer and GLCD driver signals the GLCD peripheral to change its read location.&nbsp;</p>
<p class="Element10">
The application also features user touch input through the integrated touch screen on the display panel. Touch input from the touch controller goes thru the I2C port, and the Touch System Service acquires the touch input information from the touch and I2C drivers. The Touch System Service sends touch events to the graphics library which processes these events and updates the frame data accordingly.&nbsp;</p>
<p class="Element10">
The core timer is used by the application and the graphics library to manage the movement of the splash screen, the momentum decay of the radial menu and to trigger simulated input events for the Demo Mode. </p><p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
<strong>Demonstration Features</strong>&nbsp;</p>
<p class="Element10">
• Integrated PCAP Touch Input&nbsp;</p>
<p class="Element10">
• Three graphics layer supported via the GLCD peripheral on the PIC32MZ DA device&nbsp;</p>
<p class="Element10">
• Preprocessed Image assets to leverage GPU peripheral supported&nbsp;</p>
<p class="Element10">
• 32-bit RGBA8888 color depth support (16.7 million unique colors)&nbsp;</p>
<p class="Element10">
• Per-layer frame double-buffering&nbsp;</p>
<p class="Element10">
• Image compression techniques using Run-Length Encoding, PNG, and JPEG </p><p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><div class="Element15">
Creating the Project Graph</div>
<p class="Element10" style="text-align: center;">
<img src="aria_ad_mzda_sk_intddr_wqvga_pg.png" border="0" alt="" title=""></p><p class="Element10">
The Project Graph diagram shows the Harmony components that are included in this application. Lines between components are drawn to satisfy components that depend on a capability that another component provides. </p><p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
Adding the “PIC32MZ DA Starter Kit BSP” and “Aria Graphics w/ PDA TM4301B Display” Graphics Template component into the project graph will automatically add the components needed for a graphics project and resolve their dependencies. It will also configure the pins needed to drive the external peripherals like the display and the touch controller.&nbsp;</p>
<p class="Element10">
The I2C Baud Rate for the I2C1 component to 1,000,000 Hz.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="i2c_baud_rate.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
Enable Double Buffer Mode in GFX Core&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="driver_config_hints.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
In the Aria component, demo mode is enabled&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="enable_demo_mode.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><div class="Element15">
Building the Application</div>
<p class="Element10">
The parent directory for this application is gfx_apps/apps/aria_infotainment. To build this application, use MPLABX to open the gfx_apps/apps/aria_infotainment/firmware/aria_info_mzda_intddr_sk_meb2_tm4301b.X project file.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The following table lists configuration properties: </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="20%">
<div class="Element66">
Project Name&nbsp;</div></td><td class="Element65" valign="top" width="12%">
<div class="Element66">
BSP Used&nbsp;</div></td><td class="Element65" valign="top" width="25%">
<div class="Element66">
Graphics Template Used&nbsp;</div></td><td class="Element65" valign="top" width="42%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
aria_info_mzda_intddr_sk_meb2_tm4301b.X&nbsp;</div></td><td class="Element67" valign="top" width="12%">
<div class="Element68">
PIC32MZ DA Starter Kit&nbsp;</div></td><td class="Element67" valign="top" width="25%">
<div class="Element68">
Aria Graphics w/ PDA TM4301b Display&nbsp;</div></td><td class="Element67" valign="top" width="42%">
<div class="Element68">
Aria Graphics on PIC32MZ DA with Internal DDR Starter Kit, MEBII and PDA TM4301b Display&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Important Star.png" border="0" alt="" title=""><strong> Important!</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
This application may contain custom code that is marked by the comments <span class="Element146">// START OF CUSTOM CODE ...</span> and <span class="Element146">// END OF CUSTOM CODE</span>. If you use the MPLAB Harmony Configurator to regenerate the application code, use the &quot;ALL&quot; merging strategy and <i>do not</i> remove or replace the custom code.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<div class="Element15">
Configuring the Hardware</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
On the MEB II, the EBIOE and LCD_PCLK (J9) must be jumpered. A connection establishes the GLCD's pixel clock output timing. The external SRAM memory on the board is disabled. The J9 jumper is located on the bottom of the MEB II board, beneath where the starter kit is plugged into the board. Refer to the following figure for the exact location.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_starterkit.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
Connect the PIC32MZ DA Starter Kit to the MEB II board&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_meb.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
Power up the board by connecting the power adapter to J3 power connector on the MEB II board or a powered USB cable to the USB DEBUG port on the Starter Kit board&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element15">
Running the Demonstration</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
On start-up, the application will display a PIC32 logo, this is the beginning of the splash screen:&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_infotainment_splash.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The screen will remain on the PIC32 logo for roughly 15 to 20 seconds as images are being preprocessed. This pause only happens one-time at power up. After preprocessing is done, the rest of the splash screen motion will play out, ending with a screen like this one: </p><p class="Element10" style="text-align: center;">
<img src="aria_infotainment_splash2.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
<strong>Main Screen</strong>&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
After the completion of the Splash Screen, the screen will fade to white during the transition to the main screen.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The main screen will start in the A/C control screen:&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Climate Control Mode</strong> &nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_control_mode.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
This screen simulates the dual-zone climate control UI of a modern car. The circular gauges as well as the buttons the central buttons are all touch interactive.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Touching and dragging the grey lids on the left side will bring up the UI mode selector, which rest within a semi-transparent tray. This is a radial menu widget. The UI mode can be changed by sliding the radial menu up/down or by pressing the Up or Down chevron buttons.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_control_mode2.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
Along with the Climate Control mode, there are five modes that the mode selector can access. They are Phone, Music, Bluetooth and Navigation.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Phone Mode</strong>&nbsp;</p>
<p class="Element10">
Phone Mode simulates a Call Screen UI. Pressing any of the dial buttons or selecting any entry in the caller list will put numbers into the text field widget.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_phone.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Music Player Mode</strong>&nbsp;</p>
<p class="Element10">
Music Mode simulates a Music Player UI. A radial menu widget shows the current music track. Music tracks can be skipped ahead or shuffled by using the corresponding buttons. The tracks can also be selected via touch gesture directly to the radial menu widget. </p><p class="Element10" style="text-align: center;">
<img src="aria_info_music.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Navigation Mode</strong>&nbsp;</p>
<p class="Element10">
Navigation Mode simulates a car Navigation UI. The image plus widget simulates an interactive navigation map. Double-tapping will zoom-in or zoom-out the map. The map can also be zoomed in/out using two-fingered pinch/stretch gesture, as well as swipe to navigate when the image is zoomed in.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_blue_tooth.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Bluetooth Connection Mode</strong>&nbsp;</p>
<p class="Element10">
Bluetooth Mode simulates a car Bluetooth device connection UI. The objective of the screen is to show how custom widgets can be constructed using a compound set of button, label and image widgets.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_right_tray.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
<strong>Right Tray Features</strong>&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Tapping the “Trunk Open” icon corresponding on the right slide-out tray in the main screen will switch the application to the information screen.&nbsp;</p>
<p class="Element10">
There is a GPU ON/OFF button to toggle on and off the GPU at any point while the application is running. This can be used to observe the how GPU hardware acceleration improves the performance of the Aria Graphics Library.&nbsp;</p>
<p class="Element10">
To turn OFF the GPU, press the button when the label reads “GPU OFF”, and vice-versa to turn on. The GPU is turned on by default at power-up.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_info_screen.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Information Screen</strong>&nbsp;</p>
<p class="Element10">
The information screen serves as a screen to list out the demonstrated features of the demo. It also provides two features.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
• The features are located on layer1. Sliding your finger up or down will cause the feature list to scroll up and down as if it’s on an invisible glass&nbsp;</p>
<p class="Element10">
pane. The MPLAB Harmony logo that is rendered on layer0 is another demonstration of the real-time alpha-blending capability of the GLCD.&nbsp;</p>
<p class="Element10">
• Touching the Microchip logo will trigger the application to the splash screen. Once the splash screen animation has complete, the application will return to the information screen.&nbsp;</p>
<p class="Element10">
• Pressing the Home icon will switch the application back to the main menu&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="aria_info_demo_features.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Demonstration Mode</strong>&nbsp;</p>
<p class="Element10">
While running, if the application does not receive touch input for more than 20 seconds, it will go into demonstration mode. It will play out a set of pre-recorded input events which will lead to the application cycle through all screens, UI modes and widgets. The application will exit demonstration mode as soon as it receives any user input touch.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00043.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00041.html" target="topic">Aria Applications</a> &gt; <a href="00005.html" target="topic">aria_infotainment</a> &gt; <a href="00028.html" target="topic">aria_info_mzda_intddr_sk_meb2_tm4301b.X</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00005.html" target="topic">Previous</a> | <a href="00005.html" target="topic">Up</a> | <a href="00006.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_info_mzda_intddr_sk_meb2_tm4301b.X Topic Title: aria_info_mzda_intddr_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>