<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>aria_rm_mzda_intddr_sk_meb2_tm4301b.X</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00032.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00039.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00037.html" target="topic">Aria Applications</a> &gt; <a href="00008.html" target="topic">aria_radial_menu</a> &gt; <a href="00032.html" target="topic">aria_rm_mzda_intddr_sk_meb2_tm4301b.X</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00008.html" target="topic">Previous</a> | <a href="00008.html" target="topic">Up</a> | <a href="00009.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_rm_mzda_intddr_sk_meb2_tm4301b.X Topic Title: aria_rm_mzda_intddr_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
aria_rm_mzda_intddr_sk_meb2_tm4301b.X</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element15">
Defining the Architecture</div>
<p class="Element10" style="text-align: center;">
<img src="glcd_rgba8888_mxt_mzda_intddr_sk.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
For this configuration, the application uses the Graphics library to render graphics to the display. The Graphics library passes draw commands into the Nano2D GPU Library, which in-turn draws the widgets and images to the three individual write frame buffers (one for each layer) that are stored in an external DDR2. Via the DDR2 Memory Controller, the Graphics LCD (GLCD) display controller peripheral continuously transfers frame data from the all three read buffers onto to the LCD display. The write and read frame buffer pairs are swapped independently as required when the Graphics Library is done rendering to the write frame buffer and GLCD driver signals the GLCD peripheral to change its read location.&nbsp;</p>
<p class="Element10">
The application also features user touch input through the integrated touch screen on the display panel. Touch input from the touch controller goes thru the I2C port, and the Input System Service acquires the touch input information from the touch and I2C drivers. The Input System Service sends touch events to the Graphics library which processes these events and updates the frame data accordingly.&nbsp;</p>
<p class="Element10">
The core timer is used by the application and the Graphics library to manage the movement of the splash screen, the momentum decay of the radial menu and to trigger simulated input events for the Demo Mode. </p><p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><div class="Element15">
Demonstration Features</div>
<p class="Element10">
• Integrated PCAP Touch Input&nbsp;</p>
<p class="Element10">
• Three graphics layer supported via the GLCD peripheral on the PIC32MZ DA device&nbsp;</p>
<p class="Element10">
• Preprocessed Image assets to leverage GPU peripheral supported&nbsp;</p>
<p class="Element10">
• 32-bit RGBA8888 color depth support (16.7 million unique colors)&nbsp;</p>
<p class="Element10">
• Per-layer frame double-buffering&nbsp;</p>
<p class="Element10">
• Image compression techniques using Run-Length Encoding, PNG, and JPEG&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element15">
Creating the Project Graph</div>
<p class="Element10" style="text-align: center;">
<img src="aria_rd_mzda_sk_inddr_wqvga_pg.png" border="0" alt="" title=""></p><p class="Element10">
The Project Graph diagram shows the Harmony components that are included in this application. Lines between components are drawn to satisfy components that depend on a capability that another component provides.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Adding the “PIC32MZ DA Starter Kit BSP” and “Aria Graphics w/ PDA TM4301B Display” Graphics Template component into the project graph will automatically add the components needed for a graphics project and resolve their dependencies. It will also configure the pins needed to drive the external peripherals like the display and the touch controller.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The I2C Baud Rate for the I2C1 component to 1,000,000 Hz.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="i2c_baud_rate.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
Enable Double Buffer Mode in GFX Core&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="driver_config_hints.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
In the Aria component, demo mode is enabled&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="enable_demo_mode.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Building the Application</div>
<p class="Element10">
The parent directory for this application is gfx/apps/aria_radial_menu. To build this application, open the gfx_apps/aria_radial_menu/firmware/aria_rm_mzda_intddr_sk_meb2_tm4301b.X project file.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The following table lists configuration properties: </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="25%">
<div class="Element66">
Project Name&nbsp;</div></td><td class="Element65" valign="top" width="12%">
<div class="Element66">
BSP Used&nbsp;</div></td><td class="Element65" valign="top" width="25%">
<div class="Element66">
Graphics Template Used&nbsp;</div></td><td class="Element65" valign="top" width="38%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="25%">
<div class="Element68">
<a href="00031.html" target="topic">aria_oc_mzdas_sk_meb2_tm4301b.X</a>&nbsp;</div></td><td class="Element67" valign="top" width="12%">
<div class="Element68">
PIC32MZ DA Starter Kit&nbsp;</div></td><td class="Element67" valign="top" width="25%">
<div class="Element68">
Aria Graphics w/ PDA TM4301b Display&nbsp;</div></td><td class="Element67" valign="top" width="38%">
<div class="Element68">
Aria GFX on PIC32MZ DA with Internal DDR Starter Kit, MEBII and PDA TM4301b Display&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<div class="Element15">
Configuring the Hardware</div>
<p class="Element10">
On the MEB II, the EBIOE and LCD_PCLK (J9) must be jumpered. A connection establishes the GLCD's pixel clock output timing. The external SRAM memory on the board is disabled. The J9 jumper is located on the bottom of the MEB II board, beneath where the starter kit is plugged into the board. Refer to the following figure for the exact location.&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_coffee_maker MEB II J9 Pixel Clock.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
Connect the PIC32MZ DA Starter Kit to the MEB II board&nbsp;</p>
<p class="Element10">
&nbsp;</p><p class="Element10" style="text-align: center;">
<img src="mzda_intddr_hardware.png" border="0" alt="" title="">&nbsp;</p><p class="Element10">
&nbsp;</p>
<p class="Element10">
Power up the board by connecting the power adapter to J3 power connector on the MEB II board or a powered USB cable to the USB DEBUG&nbsp;</p>
<p class="Element10">
port on the Starter Kit board&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element15">
Running the Demonstration</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
On start-up, the application will display a splash screen: </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_coffee_maker Splash Screen.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Main Screen</div>
<p class="Element10">
Subsequently, the demonstration’s main screen will appear: </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_radial_menu main screen demonstration.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
Using a single-finger horizontal swiping motion, each of the four available selections in the main menu can be accessed. When finger touch input is released, the radial menu will <i>reset</i> such that the image closest to the front is placed front and center. Once the radial menu motion stops and one of the images is front and center, the corresponding mode is shown in the text label. These are: <i>Demonstrated Features</i>, <i>Albums</i>, <i>Portraits</i>, and <i>Rolodex</i>. Only the icon in this <i>prominent</i> position is the selectable option. Press and release the image in the <i>prominent</i> position to navigate to the screen supported by the stated mode.</p><div class="Element15">
Information Screen</div>
<p class="Element10">
Tapping the icon corresponding to the <i>Demonstrated Features</i> label in the main screen will switch the application to the information screen.&nbsp;</p>
<p class="Element10">
The information screen serves as a screen to list out the features of the demonstration.</p>
<ul class="Element630">
<li class="Element600">The features are located on layer1. Sliding your finger up or down will cause the feature list to scroll up and down. The MPLAB Harmony logo that is rendered on layer0 is another demonstration of the real-time alpha-blending capability of the GLCD.</li>
<li class="Element600">Touching the Microchip logo will trigger the application to the splash screen. Once the splash screen animation has completed, the application will return to the information screen</li>
<li class="Element600">Pressing the Home icon will switch the application back to the main menu</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_radial_menu Information screen.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<div class="Element15">
Demonstration Mode</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
While running, if the application does not receive touch input for more than 20 seconds, it will go into demonstration mode. It will play out a set of pre-recorded input events which will lead to the application cycle through all screens and widgets. The application will exit demonstration mode as soon as it receives any user input touch.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00039.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00037.html" target="topic">Aria Applications</a> &gt; <a href="00008.html" target="topic">aria_radial_menu</a> &gt; <a href="00032.html" target="topic">aria_rm_mzda_intddr_sk_meb2_tm4301b.X</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00008.html" target="topic">Previous</a> | <a href="00008.html" target="topic">Up</a> | <a href="00009.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_rm_mzda_intddr_sk_meb2_tm4301b.X Topic Title: aria_rm_mzda_intddr_sk_meb2_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>