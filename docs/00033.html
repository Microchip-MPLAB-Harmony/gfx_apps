<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>aria_sc_e70_xu_tm4301b.X</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00033.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00039.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00037.html" target="topic">Aria Applications</a> &gt; <a href="00009.html" target="topic">aria_showcase</a> &gt; <a href="00033.html" target="topic">aria_sc_e70_xu_tm4301b.X</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00009.html" target="topic">Previous</a> | <a href="00009.html" target="topic">Up</a> | <a href="00034.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_sc_e70_xu_tm4301b.X Topic Title: aria_sc_e70_xu_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
aria_sc_e70_xu_tm4301b.X</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element15">
Defining the Architecture</div>
<p class="Element10">
The aria_showcase application uses the aria graphics library to render graphics to the display. The graphics library draws the widgets and images to a frame buffer. The contents of the frame buffer are continuously transferred to refresh the contents of the LCD display. The application also features user touch input through the integrated touch screen on the display panel. Touch input from the touch controller goes through the I2C port, and the Input System Service acquires the touch input information from the Touch and I2C Drivers. The Input System Service sends touch events to the Graphics Library, which processes these events and updates the frame data accordingly.&nbsp;</p>
<p class="Element10">
Finally, the application uses the Timer System Service and driver to send timer events for Demo mode and to transition images in the Slideshow Demo at specified intervals.&nbsp;</p>
<p class="Element10">
The block diagram(s) below show the various software and hardware blocks used in this application.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
In this configuration, a 16-bit RGB565 frame buffer is stored in internal SRAM. Due to the limited size of the internal SRAM, only a single frame buffer can be used which can cause tearing to be visible as the GFX library draws on the screen. These configurations use the Low-Cost Controller-less (LCC) display driver to manage the DMA that transfers the framebuffer contents to the display. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_benchmark sam_e70_xplained_ultra plus wqvga.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Demonstration Features</div>

<ul class="Element630">
<li class="Element600">Input system service and driver</li>
<li class="Element600">Time system service, timer-counter peripheral library and driver</li>
<li class="Element600">DMA System Service</li>
<li class="Element600">Low-Cost Controllerless (LCC) graphics driver</li>
<li class="Element600">I2C driver</li>
<li class="Element600">16-bit RGB565 color depth support (65535 unique colors)</li>
<li class="Element600">JPEG and PNG images stored in internal flash</li>
<li class="Element600">UTF-8 and UTF-16 character font support</li>
<li class="Element600">Full multi-lingual font and localization (Chinese and English)</li>
<li class="Element600">Graphics Demo mode</li>
<li class="Element600">Graphics widgets: List wheel, Touch Test, Keypad, Slideshow</li>
<li class="Element600">Alpha-blending</li>
</ul><p class="Element10">
&nbsp;</p>
<div class="Element15">
Creating the Project</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The Project Graph diagram below shows the Harmony components that are included in this application. Lines between components are drawn to satisfy components that depend on a capability that another component provides.&nbsp;</p>
<p class="Element10">
Adding the “SAM E70 XPlained Ultra BSP”and the “Aria Graphics w/ PDA TMA4301B Display” Graphics Template components into the project graph will automatically add the components needed for a graphics project and resolve their dependencies. It will also configure the pins needed to drive the external peripherals like the display and the touch controller. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_benchmark Final Project Graph.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The heap size is set to 65536 bytes. This is done by setting the Device &amp; Project Configuration &gt; Project Configuration &gt; XC32 (Global Options) xc32-ld &gt; General &gt; Heap Size option for the “System” component: </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase Heap Setup.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Building the Application</div>
<p class="Element10">
The parent directory for this application is gfx_apps/apps/aria_showcase. To build this application, open the gfx_apps/apps/aria_showcase/firmware/aria_sc_e70_xu_tm4301b.X project file in MPLABX IDE that corresponds to the hardware configuration.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The following table lists configuration properties: </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="25%">
<div class="Element66">
Project Name&nbsp;</div></td><td class="Element65" valign="top" width="13%">
<div class="Element66">
BSP Used&nbsp;</div></td><td class="Element65" valign="top" width="27%">
<div class="Element66">
Graphics Template Used&nbsp;</div></td><td class="Element65" valign="top" width="36%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="25%">
<div class="Element68">
aria_sc_e70_xu_tm4301b.X&nbsp;</div></td><td class="Element67" valign="top" width="13%">
<div class="Element68">
sam_e70_xplained_ultra&nbsp;</div></td><td class="Element67" valign="top" width="27%">
<div class="Element68">
Aria Graphics w/ PDA TM4301B Display&nbsp;</div></td><td class="Element67" valign="top" width="36%">
<div class="Element68">
SAM E70 Xplained Ultra board with PDA TM4301B 480x272 (WQVGA) Display&nbsp;</div></td></tr></table></div></div>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Important Star.png" border="0" alt="" title=""><strong> Important!</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
This application may contain custom code that is marked by the comments <span class="Element146">// START OF CUSTOM CODE ...</span> and <span class="Element146">// END OF CUSTOM CODE</span>. When using the MPLAB Harmony Configurator to regenerate the application code, use the &quot;ALL&quot; merging strategy and <i>do not</i> remove or replace the custom code.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<div class="Element15">
Configuring the Hardware</div>
<p class="Element10">
The final setup should be: </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_benchmark Final Setup.png" border="0" alt="" title=""></p><p class="Element10">
Configuring the 4.3” WQVGA Display requires disconnecting the ribbon cable that connects the display to the interposer board. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_benchmark Bottom of WQVGA Display.png" border="0" alt="" title=""></p><p class="Element10">
First, release the ribbon cable from the interposer board. Next, release the black clamp on the E70’s J2 connector and turn the display over. Finally, insert the ribbon cable into J2 and close the clamp. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_benchmark Connecting Ribbon Cable.png" border="0" alt="" title=""></p><p class="Element10">
The board and display are powered by a Micro B – USB A cable from PC to the “Debug USB” port on the E70 board. The ICD4 Debugger and ICD4/PICKit4 Adapter Board are connected as shown above.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element15">
Running the Demonstration</div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Upon boot-up, the application displays the animation Splash Screen, which shows an animated splash bar while blending in the MPLAB Harmony and Microchip PIC32 logos, as shown in the following figure. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_splash_screen_blend.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
When power-on is successful, the application Home Screen will be displayed. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run menu_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
On the Home Screen, touching the large icons will open various screens that demonstrate the functionality of the widgets in the Aria graphics library.&nbsp;</p>
<p class="Element10">
Touching the Help (?) button on the lower left corner of each screen will show help information similar to the following figure. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run help_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The Settings Screen shows an option to switch the language between English and Simplified Chinese and demonstrates the Aria string library’s capability to support multi-lingual fonts and symbols. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run settings_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
The List Wheel Widget Demo screen shows an example on how the list wheel widget can be used to provide UI controls for changing the time. The following figures show the List Wheel Widget Demo screen on PIC32MZ DA and PIC32MZ EF, respectively.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The Touch Test Widget Demo screen shows the touch screen functionality. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run touchtest_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
When the white active area of the Touch Test Widget is touched, intersecting horizontal and vertical lines indicate the touch points. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase Touch Test Widget Touch.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
The Keypad Widget Demo Screen shows how the keypad and text entry widgets can be used to provide an interface for obtaining user text input. Touching the Text Field widget will show the Keypad for typing the text input. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run keypad_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
The Alpha Blending Demo screen shows the alpha blending capabilities of the Aria User Interface Library. The demonstration features two JPEG images that are alpha blended on top of each other. The (+) and (-) buttons and the slider widget on the right side of the images provides a way to change the alpha amounts. </p><p class="Element10" style="text-align: center;">
Alpha blending at 50%&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_alpha_blend_50_percent.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
Alpha blending at 100%&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_alpha_blend_100_percent.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
Alpha blending at 0%&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run alpha_ss.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The Slide Show Demo Screen features the slide show widget being used to transition between several JPEG images using the available controls. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_run slideshow_ss.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>
<p class="Element10">
Touching the LEFT (&lt;) and RIGHT (&gt;) buttons manually transitions through the list of images. Touching the PLAY (|&gt;) and FAST-FORWARD (|&gt;&gt;) buttons will automatically transition the images at 2s and 500ms intervals, respectively. The transitions are triggered using events from the Timer System Service.&nbsp;</p>
<p class="Element10">
The following figure shows Slide Show widget in Play mode. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase_play.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The following figure shows the Slide Show widget in FAST-FORWARD mode. </p><p class="Element10" style="text-align: center;">
<img src="APPS GFX aria_showcase Slide Show Widget FF.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
Help information for the demonstration screens can be accessed by touching the (?) button on the lower left corner of each screen. Touching the HOME button on the lower right corner takes the application back to the Home Screen.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00000.html" target="topic">MPLAB Harmony Graphics Suite Applications</a> &gt; <a href="00039.html" target="topic">Examples and Demonstrations</a> &gt; <a href="00037.html" target="topic">Aria Applications</a> &gt; <a href="00009.html" target="topic">aria_showcase</a> &gt; <a href="00033.html" target="topic">aria_sc_e70_xu_tm4301b.X</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB® Harmony Graphics Suite Applications</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00000.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00009.html" target="topic">Previous</a> | <a href="00009.html" target="topic">Up</a> | <a href="00034.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: aria_sc_e70_xu_tm4301b.X Topic Title: aria_sc_e70_xu_tm4301b.X)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>